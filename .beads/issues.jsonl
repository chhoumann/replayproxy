{"id":"replayproxy-25r","title":"Subset scan fallback: avoid per-row request query re-normalization","description":"Current fallback scan for query=subset calls matching::query_params_match for each candidate row, which repeatedly re-sorts the same request query string. Introduce a pre-parsed request-query representation (or a specialized matcher over normalized query strings) to keep fallback CPU bounded when many recordings share a match_key. Also consider exposing scanned-row counters for observability.","status":"open","priority":3,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T21:50:09Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T21:50:09Z"}
{"id":"replayproxy-8yp","title":"Sanitize startup/config diagnostics to avoid metadata leakage","description":"## Description\nStartup summary and config-load diagnostics can include user-provided session/path metadata verbatim. Audit these outputs and redact or minimize sensitive values while preserving operator usefulness.\n\n## Acceptance Criteria\n- Startup summary does not print raw sensitive storage/session metadata.\n- Config parse/load errors avoid echoing sensitive values from file contents.\n- Tests cover representative secret-like inputs and assert they do not appear in emitted diagnostics.","status":"closed","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T20:55:12Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T21:39:22Z","closed_at":"2026-02-25T21:39:22Z","close_reason":"Closed"}
{"id":"replayproxy-aru","title":"Optimize subset query lookup scalability","description":"## Description\nSubset query mode currently scans all recordings sharing a base match key.\n\n## Follow-up\n- Evaluate adding persisted normalized query data and/or indexes for faster subset candidate filtering.\n- Consider bounded candidate windows with deterministic selection semantics.\n\n## Acceptance Criteria\n- Replay/passthrough subset lookup avoids full-key scans for large sessions.\n- Behavior remains identical to current subset semantics.","status":"closed","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T17:18:58Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T18:04:44Z","closed_at":"2026-02-25T18:04:44Z","close_reason":"Closed"}
{"id":"replayproxy-ivx","title":"SPEC: replayproxy capture \u0026 replay proxy","description":"## Context\nImplement the features described in `SPEC.md` for **replayproxy**: an HTTP capture-and-replay proxy that records request/response pairs to SQLite and can replay deterministically.\n\n## Success Criteria\n- Proxy supports per-route modes: `record`, `replay`, `passthrough-cache`.\n- Recordings are stored in SQLite with request/response metadata and bodies.\n- Cached responses are served on subsequent matching requests (configurable matching rules).\n- Sessions (\"cassettes\") isolate recordings by name.\n- CLI and admin API support the core session + recording workflows.\n- Observability (structured logs + metrics) is available for debugging and CI.\n","status":"open","priority":0,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:15:51Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:15:51Z"}
{"id":"replayproxy-ivx.1","title":"Bootstrap: Rust project skeleton + quality gates","description":"## Success Criteria\n- `cargo test` and `cargo clippy` run cleanly.\n- `replayproxy --help` works and documents subcommands.\n- Project has a minimal, sane module layout for proxy/config/storage.\n","status":"closed","priority":0,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:51Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T19:53:46Z","closed_at":"2026-02-25T19:53:46Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.1","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:50Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.1.1","title":"Init Cargo project + crate/module layout","description":"## Description\nCreate the initial Rust project skeleton for `replayproxy` (library + binary), aligned with the stack in `SPEC.md`.\n\n## Acceptance Criteria\n- Repo contains a buildable Rust project (`cargo test` passes).\n- Binary `replayproxy` exists with a placeholder `serve` subcommand.\n- Module layout exists for: config, proxy core, matching, storage.\n","status":"closed","priority":0,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:18:13Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:47:54Z","closed_at":"2026-02-25T15:47:54Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.1.1","depends_on_id":"replayproxy-ivx.1","type":"parent-child","created_at":"2026-02-25T16:18:13Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.1.2","title":"Add dependency set + feature flags (tokio/hyper/tower/rustls/etc)","description":"## Description\nAdd the core dependencies listed in `SPEC.md` with appropriate feature flags and minimal bloat.\n\n## Acceptance Criteria\n- `Cargo.toml` includes tokio, hyper, tower, tracing, clap, serde, toml, rusqlite(bundled), etc.\n- `cargo build` and `cargo test` succeed on a clean checkout.\n","status":"closed","priority":1,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:18:14Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T17:57:53Z","closed_at":"2026-02-25T17:57:53Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.1.2","depends_on_id":"replayproxy-ivx.1","type":"parent-child","created_at":"2026-02-25T16:18:13Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.1.3","title":"CI: GitHub Actions for fmt/clippy/test","description":"## Description\nAdd CI quality gates for formatting, linting, and tests.\n\n## Acceptance Criteria\n- CI runs `cargo fmt --check`, `cargo clippy`, and `cargo test`.\n- CI runs on push and PR.\n","status":"closed","priority":1,"issue_type":"chore","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:18:14Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T18:08:00Z","closed_at":"2026-02-25T18:08:00Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.1.3","depends_on_id":"replayproxy-ivx.1","type":"parent-child","created_at":"2026-02-25T16:18:14Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.1.4","title":"Clippy cleanup: remove wrong_self_convention warning in logging tests","description":"## Description\nAddress the remaining clippy warning (`wrong_self_convention`) in `src/logging.rs` tests so clippy output is clean.\n\n## Acceptance Criteria\n- `cargo clippy --all-targets --all-features --locked` emits no warnings from project code/tests.\n- Helper naming in logging tests follows clippy conventions or has documented rationale.\n","status":"closed","priority":2,"issue_type":"chore","owner":"christian@bagerbach.com","created_at":"2026-02-25T18:08:16Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T18:22:23Z","closed_at":"2026-02-25T18:22:23Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.1.4","depends_on_id":"replayproxy-ivx.1","type":"parent-child","created_at":"2026-02-25T19:08:15Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.10","title":"Admin HTTP API: /_admin endpoints","description":"## Success Criteria\n- Admin server runs on `admin_port` and serves endpoints from `SPEC.md`.\n- Includes `/metrics` and `/_admin/status`.\n- Session + recording operations are available via HTTP.\n","status":"open","priority":1,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:53Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:16:53Z","dependencies":[{"issue_id":"replayproxy-ivx.10","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:53Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.10","depends_on_id":"replayproxy-ivx.3","type":"blocks","created_at":"2026-02-25T16:17:59Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.10.1","title":"Admin server: listen on admin_port and route /_admin","description":"## Description\nRun a separate admin HTTP server (default proxy port + 1) and serve admin endpoints under `/_admin`.\n\n## Acceptance Criteria\n- Admin server starts alongside proxy server.\n- Admin routes are served under `/_admin/*` without interfering with proxied traffic.\n","status":"closed","priority":1,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:20:30Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T18:13:51Z","closed_at":"2026-02-25T18:13:51Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.10.1","depends_on_id":"replayproxy-ivx.10","type":"parent-child","created_at":"2026-02-25T16:20:29Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.10.2","title":"Endpoint: GET /_admin/status","description":"## Description\nImplement the status endpoint from `SPEC.md`.\n\n## Acceptance Criteria\n- Returns uptime, active session, and basic proxy stats.\n- Response is JSON and stable for automation.\n","status":"closed","priority":1,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:20:30Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T18:13:53Z","closed_at":"2026-02-25T18:13:53Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.10.2","depends_on_id":"replayproxy-ivx.10","type":"parent-child","created_at":"2026-02-25T16:20:29Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.10.3","title":"Endpoints: sessions CRUD (GET/POST/DELETE)","description":"## Description\nImplement session management endpoints:\n- `GET /_admin/sessions`\n- `POST /_admin/sessions`\n- `DELETE /_admin/sessions/:name`\n\n## Acceptance Criteria\n- Endpoints map to the session manager.\n- Errors are consistent and informative.\n","status":"closed","priority":1,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:20:30Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T18:30:36Z","closed_at":"2026-02-25T18:30:36Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.10.3","depends_on_id":"replayproxy-ivx.10","type":"parent-child","created_at":"2026-02-25T16:20:30Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.10.4","title":"Endpoints: recordings list/get/delete","description":"## Description\nImplement recordings endpoints with pagination/filtering:\n- `GET /_admin/sessions/:name/recordings`\n- `GET /_admin/sessions/:name/recordings/:id`\n- `DELETE /_admin/sessions/:name/recordings/:id`\n\n## Acceptance Criteria\n- Listing supports limit/offset (or cursor).\n- Get returns full request+response details (redacted).\n- Delete removes the recording.\n","status":"closed","priority":2,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:20:30Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T22:11:34Z","closed_at":"2026-02-25T22:11:34Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.10.4","depends_on_id":"replayproxy-ivx.10","type":"parent-child","created_at":"2026-02-25T16:20:30Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.10.5","title":"Endpoint: POST /_admin/sessions/:name/export","description":"## Description\nExpose session export via admin API.\n\n## Acceptance Criteria\n- Endpoint triggers the same export code path as the CLI.\n- Returns progress/result in a machine-readable way.\n","status":"open","priority":2,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:20:31Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:20:31Z","dependencies":[{"issue_id":"replayproxy-ivx.10.5","depends_on_id":"replayproxy-ivx.10","type":"parent-child","created_at":"2026-02-25T16:20:30Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.10.6","title":"Endpoint: POST /_admin/config/reload","description":"## Description\nImplement an explicit config reload trigger endpoint.\n\n## Acceptance Criteria\n- Endpoint causes config reload and returns a summary (success/errors).\n- Safe under concurrent proxy traffic.\n","status":"closed","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:20:31Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T22:29:33Z","closed_at":"2026-02-25T22:29:33Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.10.6","depends_on_id":"replayproxy-ivx.10","type":"parent-child","created_at":"2026-02-25T16:20:31Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.10.7","title":"Admin API safety: default bind to localhost + optional auth","description":"## Description\nPrevent accidental exposure of admin endpoints.\n\n## Acceptance Criteria\n- Default bind address is loopback (or clearly documented).\n- Add an optional shared-secret header/token to protect admin endpoints.\n","status":"open","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:20:31Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:20:31Z","dependencies":[{"issue_id":"replayproxy-ivx.10.7","depends_on_id":"replayproxy-ivx.10","type":"parent-child","created_at":"2026-02-25T16:20:31Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.11","title":"Export/Import: session export to JSON/YAML and import","description":"## Success Criteria\n- Export a session into a directory layout with manifest + per-recording files.\n- Import from exported directory back into SQLite.\n- Format is stable enough for CI/version control.\n","status":"open","priority":2,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:53Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:16:53Z","dependencies":[{"issue_id":"replayproxy-ivx.11","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:53Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.11","depends_on_id":"replayproxy-ivx.4","type":"blocks","created_at":"2026-02-25T16:18:00Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.11","depends_on_id":"replayproxy-ivx.6","type":"blocks","created_at":"2026-02-25T16:18:00Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.11.1","title":"Define export directory format + manifest","description":"## Description\nDefine the stable on-disk export format for a session (manifest + recordings directory) per `SPEC.md`.\n\n## Acceptance Criteria\n- Format is specified in docs (file layout + required fields).\n- Naming scheme for recordings is deterministic.\n","status":"open","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:21Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:21:21Z","dependencies":[{"issue_id":"replayproxy-ivx.11.1","depends_on_id":"replayproxy-ivx.11","type":"parent-child","created_at":"2026-02-25T16:21:20Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.11.2","title":"Implement export: SQLite -\u003e YAML/JSON files","description":"## Description\nExport a session from SQLite into human-readable files for VCS/CI.\n\n## Acceptance Criteria\n- Export writes `index.yaml` (or equivalent manifest) and per-recording files.\n- Export does not include unredacted secrets.\n- CLI and admin can invoke export.\n","status":"open","priority":2,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:21Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:21:21Z","dependencies":[{"issue_id":"replayproxy-ivx.11.2","depends_on_id":"replayproxy-ivx.11","type":"parent-child","created_at":"2026-02-25T16:21:20Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.11.3","title":"Implement import: exported directory -\u003e SQLite","description":"## Description\nImport an exported session directory back into SQLite.\n\n## Acceptance Criteria\n- Import validates file format and fails with actionable errors.\n- Import produces equivalent replay behavior to the original session.\n","status":"open","priority":2,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:21Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:21:21Z","dependencies":[{"issue_id":"replayproxy-ivx.11.3","depends_on_id":"replayproxy-ivx.11","type":"parent-child","created_at":"2026-02-25T16:21:21Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.11.4","title":"Round-trip tests: export then import then replay","description":"## Description\nAdd an integration test that records a few interactions, exports them, imports into a fresh session, and replays.\n\n## Acceptance Criteria\n- Test demonstrates export/import fidelity.\n- Test runs in CI without external network.\n","status":"open","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:22Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:21:22Z","dependencies":[{"issue_id":"replayproxy-ivx.11.4","depends_on_id":"replayproxy-ivx.11","type":"parent-child","created_at":"2026-02-25T16:21:21Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.12","title":"Config hot reload (notify): apply route changes without restart","description":"## Success Criteria\n- File watcher reloads config on change.\n- Reload updates routes/matching/redaction/transforms safely.\n- Logs a summary of what changed.\n","status":"open","priority":2,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:54Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:16:54Z","dependencies":[{"issue_id":"replayproxy-ivx.12","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:53Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.12","depends_on_id":"replayproxy-ivx.2","type":"blocks","created_at":"2026-02-25T16:18:00Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.12.1","title":"Watch config file with notify","description":"## Description\nUse filesystem notifications to detect config changes.\n\n## Acceptance Criteria\n- Watcher observes changes to the active config file path.\n- Debounces rapid changes to avoid reload storms.\n","status":"open","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:30Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:21:30Z","dependencies":[{"issue_id":"replayproxy-ivx.12.1","depends_on_id":"replayproxy-ivx.12","type":"parent-child","created_at":"2026-02-25T16:21:29Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.12.2","title":"Apply updated config safely (routes/matching/redaction/transforms)","description":"## Description\nUpdate in-memory route table/matchers without restarting the proxy.\n\n## Acceptance Criteria\n- Reload swaps config atomically (no partial state).\n- Concurrent requests either use old config or new config, not a mix.\n","status":"open","priority":2,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:30Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:21:30Z","dependencies":[{"issue_id":"replayproxy-ivx.12.2","depends_on_id":"replayproxy-ivx.12","type":"parent-child","created_at":"2026-02-25T16:21:30Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.12.3","title":"Log reload diff summary","description":"## Description\nOn reload, log what changed (routes added/removed/changed, key settings).\n\n## Acceptance Criteria\n- Summary is emitted at info level.\n- Sensitive values are redacted.\n","status":"open","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:30Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:21:30Z","dependencies":[{"issue_id":"replayproxy-ivx.12.3","depends_on_id":"replayproxy-ivx.12","type":"parent-child","created_at":"2026-02-25T16:21:30Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.13","title":"Forward proxy + TLS MITM CA","description":"## Success Criteria\n- Forward proxy mode works for HTTP and HTTPS.\n- Local root CA can be generated and used to MITM HTTPS.\n- Best-effort CA installation supported (macOS Keychain + Linux update-ca-certificates).\n","status":"open","priority":3,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:54Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:16:54Z","dependencies":[{"issue_id":"replayproxy-ivx.13","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:53Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.13.1","title":"Forward proxy: HTTP proxying (absolute-form)","description":"## Description\nImplement forward proxy mode for plaintext HTTP requests.\n\n## Acceptance Criteria\n- When clients set `HTTP_PROXY`, requests are proxied to the intended upstream.\n- Absolute-form request targets are handled correctly.\n- Integration test uses an HTTP client configured with proxy.\n","status":"open","priority":3,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:54Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:21:54Z","dependencies":[{"issue_id":"replayproxy-ivx.13.1","depends_on_id":"replayproxy-ivx.13","type":"parent-child","created_at":"2026-02-25T16:21:53Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.13.2","title":"Forward proxy: CONNECT tunneling (no MITM)","description":"## Description\nImplement baseline HTTPS support via CONNECT tunneling (acts as a TCP tunnel) before MITM.\n\n## Acceptance Criteria\n- CONNECT requests establish a tunnel to the requested host:port.\n- Tunnel supports bidirectional streaming.\n","status":"open","priority":3,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:54Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:21:54Z","dependencies":[{"issue_id":"replayproxy-ivx.13.2","depends_on_id":"replayproxy-ivx.13","type":"parent-child","created_at":"2026-02-25T16:21:54Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.13.3","title":"CA generation + storage (~/.replayproxy/ca)","description":"## Description\nGenerate a local root CA cert+key on first run (or via CLI) and store under `~/.replayproxy/ca/`.\n\n## Acceptance Criteria\n- CA cert and private key are generated securely.\n- Files are created with restricted permissions.\n- CLI `ca generate` uses the same code path.\n","status":"open","priority":3,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:54Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:21:54Z","dependencies":[{"issue_id":"replayproxy-ivx.13.3","depends_on_id":"replayproxy-ivx.13","type":"parent-child","created_at":"2026-02-25T16:21:54Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.13.4","title":"Leaf certificate generation per upstream host","description":"## Description\nDynamically generate leaf certs for upstream hosts signed by the local CA.\n\n## Acceptance Criteria\n- Cert CN/SAN matches the requested hostname.\n- Certs are cached in-memory (or on-disk) to avoid regeneration overhead.\n","status":"open","priority":3,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:55Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:21:55Z","dependencies":[{"issue_id":"replayproxy-ivx.13.4","depends_on_id":"replayproxy-ivx.13","type":"parent-child","created_at":"2026-02-25T16:21:54Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.13.5","title":"MITM HTTPS interception using rustls","description":"## Description\nTerminate TLS from the client using generated leaf certs, then establish TLS to upstream, enabling capture/replay for HTTPS.\n\n## Acceptance Criteria\n- With CA trusted, HTTPS requests can be recorded and replayed.\n- Errors for untrusted CA are explained clearly (docs/logs).\n","status":"open","priority":3,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:55Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:21:55Z","dependencies":[{"issue_id":"replayproxy-ivx.13.5","depends_on_id":"replayproxy-ivx.13","type":"parent-child","created_at":"2026-02-25T16:21:54Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.13.6","title":"CA installation: macOS Keychain (best-effort)","description":"## Description\nAttempt to install the generated CA into the macOS system trust store.\n\n## Acceptance Criteria\n- Command prompts for sudo if required.\n- Provides clear instructions when automatic install fails.\n","status":"open","priority":3,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:55Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:21:55Z","dependencies":[{"issue_id":"replayproxy-ivx.13.6","depends_on_id":"replayproxy-ivx.13","type":"parent-child","created_at":"2026-02-25T16:21:55Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.13.7","title":"CA installation: Linux update-ca-certificates (best-effort)","description":"## Description\nAttempt to install the generated CA on Linux distributions that use `update-ca-certificates`.\n\n## Acceptance Criteria\n- Detects unsupported distros and falls back to manual instructions.\n","status":"open","priority":4,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:56Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:21:56Z","dependencies":[{"issue_id":"replayproxy-ivx.13.7","depends_on_id":"replayproxy-ivx.13","type":"parent-child","created_at":"2026-02-25T16:21:55Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.13.8","title":"Support user-provided CA via config","description":"## Description\nAllow specifying `ca_cert` and `ca_key` in config to use an existing PKI.\n\n## Acceptance Criteria\n- Config can point to CA cert+key paths.\n- Invalid or mismatched cert/key fails fast with clear errors.\n","status":"open","priority":3,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:56Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:21:56Z","dependencies":[{"issue_id":"replayproxy-ivx.13.8","depends_on_id":"replayproxy-ivx.13","type":"parent-child","created_at":"2026-02-25T16:21:55Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.13.9","title":"Forward proxy integration tests (HTTP + HTTPS)","description":"## Description\nAdd integration tests for forward proxy behavior (including HTTPS with trusted CA when feasible).\n\n## Acceptance Criteria\n- HTTP test validates proxying with `HTTP_PROXY`.\n- HTTPS test is included or documented as manual due to trust store requirements.\n","status":"open","priority":4,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:56Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:21:56Z","dependencies":[{"issue_id":"replayproxy-ivx.13.9","depends_on_id":"replayproxy-ivx.13","type":"parent-child","created_at":"2026-02-25T16:21:56Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.14","title":"Streaming: record + replay SSE/chunked with timing","description":"## Success Criteria\n- Streamed responses can be recorded as chunks with timestamp offsets.\n- Replay supports preserved timing and fast mode (per route).\n","status":"open","priority":3,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:54Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:16:54Z","dependencies":[{"issue_id":"replayproxy-ivx.14","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:54Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.14.1","title":"Extend storage schema for streaming chunks","description":"## Description\nAdd tables/columns needed to store streamed response chunks and their timestamp offsets.\n\n## Acceptance Criteria\n- Schema supports ordered chunks with offset-from-start.\n- Schema can be queried efficiently for replay.\n","status":"open","priority":3,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:09Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:09Z","dependencies":[{"issue_id":"replayproxy-ivx.14.1","depends_on_id":"replayproxy-ivx.14","type":"parent-child","created_at":"2026-02-25T16:22:08Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.14.2","title":"Record streamed responses (SSE/chunked) as chunks","description":"## Description\nCapture streaming responses by storing each chunk with its timestamp offset.\n\n## Acceptance Criteria\n- Chunk boundaries are preserved.\n- Recording works for SSE and chunked transfer encoding.\n","status":"open","priority":3,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:09Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:09Z","dependencies":[{"issue_id":"replayproxy-ivx.14.2","depends_on_id":"replayproxy-ivx.14","type":"parent-child","created_at":"2026-02-25T16:22:08Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.14.3","title":"Replay streaming with preserved timing","description":"## Description\nDuring replay, emit chunks with the original inter-chunk delays.\n\n## Acceptance Criteria\n- Timing is approximately preserved (within reasonable jitter).\n- Client observes similar streaming behavior as upstream.\n","status":"open","priority":3,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:09Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:09Z","dependencies":[{"issue_id":"replayproxy-ivx.14.3","depends_on_id":"replayproxy-ivx.14","type":"parent-child","created_at":"2026-02-25T16:22:09Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.14.4","title":"Replay streaming fast mode (no delays)","description":"## Description\nSupport a per-route option to replay all chunks immediately (useful for CI).\n\n## Acceptance Criteria\n- Config flag enables fast mode per route.\n- When enabled, replay sends chunks without sleeping.\n","status":"open","priority":3,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:10Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:10Z","dependencies":[{"issue_id":"replayproxy-ivx.14.4","depends_on_id":"replayproxy-ivx.14","type":"parent-child","created_at":"2026-02-25T16:22:09Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.14.5","title":"Streaming tests: record and replay","description":"## Description\nAdd integration tests for streaming record/replay behavior.\n\n## Acceptance Criteria\n- Tests validate chunk order.\n- Tests validate timing mode selection (preserve vs fast).\n","status":"open","priority":4,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:10Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:10Z","dependencies":[{"issue_id":"replayproxy-ivx.14.5","depends_on_id":"replayproxy-ivx.14","type":"parent-child","created_at":"2026-02-25T16:22:09Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.15","title":"WebSocket: capture + replay (server-only and bidirectional)","description":"## Success Criteria\n- WebSocket connections can be recorded (server-only or bidirectional) with timestamps.\n- Replay reproduces server stream and (optionally) validates client messages.\n","status":"open","priority":4,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:54Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:16:54Z","dependencies":[{"issue_id":"replayproxy-ivx.15","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:54Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.15.1","title":"Implement WebSocket upgrade proxying","description":"## Description\nSupport proxying WebSocket upgrade requests and relaying frames between client and upstream.\n\n## Acceptance Criteria\n- WS upgrade succeeds for configured routes.\n- Frames are relayed bidirectionally.\n","status":"open","priority":4,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:27Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:27Z","dependencies":[{"issue_id":"replayproxy-ivx.15.1","depends_on_id":"replayproxy-ivx.15","type":"parent-child","created_at":"2026-02-25T16:22:27Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.15.2","title":"Extend storage schema for WebSocket frames","description":"## Description\nAdd tables/columns to store WS frames with direction, type (text/binary), payload, and timestamp offset.\n\n## Acceptance Criteria\n- Schema can represent full bidirectional conversations.\n- Schema supports server-only mode.\n","status":"open","priority":4,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:28Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:28Z","dependencies":[{"issue_id":"replayproxy-ivx.15.2","depends_on_id":"replayproxy-ivx.15","type":"parent-child","created_at":"2026-02-25T16:22:27Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.15.3","title":"Record WS server-only messages","description":"## Description\nImplement server-only recording mode: capture only server→client frames.\n\n## Acceptance Criteria\n- Client frames are ignored for recording.\n- Server frames are stored with timestamps.\n","status":"open","priority":4,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:28Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:28Z","dependencies":[{"issue_id":"replayproxy-ivx.15.3","depends_on_id":"replayproxy-ivx.15","type":"parent-child","created_at":"2026-02-25T16:22:27Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.15.4","title":"Record WS bidirectional messages","description":"## Description\nRecord both client→server and server→client frames with timestamps.\n\n## Acceptance Criteria\n- Both directions are captured and persisted.\n- Frame type (text/binary) is preserved.\n","status":"open","priority":4,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:28Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:28Z","dependencies":[{"issue_id":"replayproxy-ivx.15.4","depends_on_id":"replayproxy-ivx.15","type":"parent-child","created_at":"2026-02-25T16:22:28Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.15.5","title":"Replay WS server-only stream","description":"## Description\nOn replay, ignore client frames and play back recorded server frames.\n\n## Acceptance Criteria\n- Server frames are replayed in order (with optional timing preservation).\n- Client can send arbitrary frames without breaking replay.\n","status":"open","priority":4,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:28Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:28Z","dependencies":[{"issue_id":"replayproxy-ivx.15.5","depends_on_id":"replayproxy-ivx.15","type":"parent-child","created_at":"2026-02-25T16:22:28Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.15.6","title":"Replay WS bidirectional with client message validation","description":"## Description\nOn replay, expect client frames to match the recorded sequence and replay corresponding server frames.\n\n## Acceptance Criteria\n- Mismatched client frame results in a clear error/close behavior.\n- Matching client frames triggers server frame replay.\n","status":"open","priority":4,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:29Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:29Z","dependencies":[{"issue_id":"replayproxy-ivx.15.6","depends_on_id":"replayproxy-ivx.15","type":"parent-child","created_at":"2026-02-25T16:22:28Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.15.7","title":"WebSocket integration tests","description":"## Description\nAdd tests for WS record/replay modes.\n\n## Acceptance Criteria\n- Test covers server-only record/replay.\n- Test covers bidirectional validation path.\n","status":"open","priority":4,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:29Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:29Z","dependencies":[{"issue_id":"replayproxy-ivx.15.7","depends_on_id":"replayproxy-ivx.15","type":"parent-child","created_at":"2026-02-25T16:22:29Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.16","title":"gRPC: opaque and proto-aware capture/replay","description":"## Success Criteria\n- Opaque mode records and replays gRPC traffic by hashing raw bytes.\n- Proto-aware mode can load descriptors and match specific decoded fields.\n","status":"open","priority":4,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:55Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:16:55Z","dependencies":[{"issue_id":"replayproxy-ivx.16","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:54Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.16.1","title":"HTTP/2 support for proxying (baseline)","description":"## Description\nEnsure the proxy can accept and forward HTTP/2 traffic required for gRPC.\n\n## Acceptance Criteria\n- gRPC requests can be proxied end-to-end (passthrough).\n- Integration test covers a simple gRPC call (or documented manual test).\n","status":"open","priority":4,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:42Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:42Z","dependencies":[{"issue_id":"replayproxy-ivx.16.1","depends_on_id":"replayproxy-ivx.16","type":"parent-child","created_at":"2026-02-25T16:22:42Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.16.2","title":"Opaque gRPC mode: match by hashing raw bytes","description":"## Description\nImplement opaque gRPC capture/replay by treating protobuf payloads as binary blobs and hashing raw bytes.\n\n## Acceptance Criteria\n- Match key includes hash of raw gRPC message bytes.\n- Replay returns recorded response bytes exactly.\n","status":"open","priority":4,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:42Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:42Z","dependencies":[{"issue_id":"replayproxy-ivx.16.2","depends_on_id":"replayproxy-ivx.16","type":"parent-child","created_at":"2026-02-25T16:22:42Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.16.3","title":"Proto-aware mode: load .proto descriptors","description":"## Description\nSupport configuring `.proto` files (or compiled descriptors) per route and loading them at startup.\n\n## Acceptance Criteria\n- Config accepts `proto_files` list.\n- Invalid proto files fail with clear errors.\n","status":"open","priority":4,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:43Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:43Z","dependencies":[{"issue_id":"replayproxy-ivx.16.3","depends_on_id":"replayproxy-ivx.16","type":"parent-child","created_at":"2026-02-25T16:22:42Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.16.4","title":"Proto-aware matching: field-based match on decoded messages","description":"## Description\nDecode gRPC messages using descriptors and include selected fields in matching (JSONPath-style / field list).\n\n## Acceptance Criteria\n- Config can specify match fields.\n- Match key changes only when selected fields change.\n","status":"open","priority":4,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:43Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:43Z","dependencies":[{"issue_id":"replayproxy-ivx.16.4","depends_on_id":"replayproxy-ivx.16","type":"parent-child","created_at":"2026-02-25T16:22:43Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.16.5","title":"gRPC tests: opaque + proto-aware","description":"## Description\nAdd tests that demonstrate gRPC replay works in both modes.\n\n## Acceptance Criteria\n- Opaque mode test passes without needing .proto files.\n- Proto-aware test uses a small sample proto.\n","status":"open","priority":4,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:43Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:43Z","dependencies":[{"issue_id":"replayproxy-ivx.16.5","depends_on_id":"replayproxy-ivx.16","type":"parent-child","created_at":"2026-02-25T16:22:43Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.17","title":"Rate limiting + throttling (record + replay simulation)","description":"## Success Criteria\n- Record mode can throttle outgoing upstream requests per host/route.\n- Replay mode can simulate 429s with Retry-After.\n","status":"open","priority":4,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:55Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:16:55Z","dependencies":[{"issue_id":"replayproxy-ivx.17","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:55Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.17.1","title":"Rate limit config schema (per route/host)","description":"## Description\nAdd config support for rate limiting parameters (requests/sec, burst, queue depth, timeout).\n\n## Acceptance Criteria\n- Config can express token bucket params per route.\n- Validation rejects invalid values.\n","status":"open","priority":4,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:56Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:56Z","dependencies":[{"issue_id":"replayproxy-ivx.17.1","depends_on_id":"replayproxy-ivx.17","type":"parent-child","created_at":"2026-02-25T16:22:55Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.17.2","title":"Record mode throttling: token bucket limiter","description":"## Description\nThrottle outgoing upstream requests in record mode to protect real APIs.\n\n## Acceptance Criteria\n- Requests exceeding the limit are delayed/queued.\n- Limiter is scoped per upstream host/route.\n","status":"open","priority":4,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:56Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:56Z","dependencies":[{"issue_id":"replayproxy-ivx.17.2","depends_on_id":"replayproxy-ivx.17","type":"parent-child","created_at":"2026-02-25T16:22:55Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.17.3","title":"Record mode: queue depth + timeout handling","description":"## Description\nImplement bounded queueing when throttling is active.\n\n## Acceptance Criteria\n- Max queue depth is enforced.\n- Requests time out with a clear error when queued too long.\n","status":"open","priority":4,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:56Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:56Z","dependencies":[{"issue_id":"replayproxy-ivx.17.3","depends_on_id":"replayproxy-ivx.17","type":"parent-child","created_at":"2026-02-25T16:22:56Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.17.4","title":"Replay mode throttling: simulate 429 + Retry-After","description":"## Description\nSimulate upstream rate limiting during replay to test client retry logic.\n\n## Acceptance Criteria\n- Returns 429 after configured threshold.\n- Includes realistic `Retry-After` header.\n","status":"open","priority":4,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:56Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:56Z","dependencies":[{"issue_id":"replayproxy-ivx.17.4","depends_on_id":"replayproxy-ivx.17","type":"parent-child","created_at":"2026-02-25T16:22:56Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.17.5","title":"Rate limiting tests","description":"## Description\nAdd tests for both record-mode throttling and replay-mode simulation.\n\n## Acceptance Criteria\n- Record limiter delays/queues as expected.\n- Replay limiter returns 429 deterministically.\n","status":"open","priority":4,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:22:57Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:22:57Z","dependencies":[{"issue_id":"replayproxy-ivx.17.5","depends_on_id":"replayproxy-ivx.17","type":"parent-child","created_at":"2026-02-25T16:22:56Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.18","title":"Lua transforms: on_request/on_response/on_record/on_replay","description":"## Success Criteria\n- Lua scripts can modify requests/responses at the 4 hook points.\n- Scripts are configured per route and have access to method/url/headers/body/status.\n","status":"open","priority":4,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:55Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:16:55Z","dependencies":[{"issue_id":"replayproxy-ivx.18","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:55Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.18.1","title":"Embed Lua (mlua) + define request/response API","description":"## Description\nEmbed Lua (e.g., via `mlua`) and design a stable API for scripts to read/modify request/response data.\n\n## Acceptance Criteria\n- Scripts can read/write method, URL, headers, body, and status.\n- Errors in scripts are surfaced clearly (with route context).\n","status":"open","priority":4,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:23:15Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:23:15Z","dependencies":[{"issue_id":"replayproxy-ivx.18.1","depends_on_id":"replayproxy-ivx.18","type":"parent-child","created_at":"2026-02-25T16:23:15Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.18.2","title":"Load scripts per route from config","description":"## Description\nAllow routes to reference script paths for each hook.\n\n## Acceptance Criteria\n- Config supports paths for on_request/on_response/on_record/on_replay.\n- Missing scripts fail fast with a clear error.\n","status":"open","priority":4,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:23:16Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:23:16Z","dependencies":[{"issue_id":"replayproxy-ivx.18.2","depends_on_id":"replayproxy-ivx.18","type":"parent-child","created_at":"2026-02-25T16:23:15Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.18.3","title":"Hook: on_request","description":"## Description\nRun Lua `on_request` before matching/forwarding.\n\n## Acceptance Criteria\n- Script can mutate request headers/body.\n- Mutations affect matching and upstream forwarding.\n","status":"open","priority":4,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:23:16Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:23:16Z","dependencies":[{"issue_id":"replayproxy-ivx.18.3","depends_on_id":"replayproxy-ivx.18","type":"parent-child","created_at":"2026-02-25T16:23:15Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.18.4","title":"Hook: on_response","description":"## Description\nRun Lua `on_response` after upstream response before returning/caching.\n\n## Acceptance Criteria\n- Script can mutate response headers/body/status.\n- Mutations are returned to client.\n","status":"open","priority":4,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:23:16Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:23:16Z","dependencies":[{"issue_id":"replayproxy-ivx.18.4","depends_on_id":"replayproxy-ivx.18","type":"parent-child","created_at":"2026-02-25T16:23:16Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.18.5","title":"Hook: on_record","description":"## Description\nRun Lua `on_record` before persisting a recording.\n\n## Acceptance Criteria\n- Script can redact/normalize data specifically for storage.\n- Stored recording reflects transformations.\n","status":"open","priority":4,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:23:16Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:23:16Z","dependencies":[{"issue_id":"replayproxy-ivx.18.5","depends_on_id":"replayproxy-ivx.18","type":"parent-child","created_at":"2026-02-25T16:23:16Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.18.6","title":"Hook: on_replay","description":"## Description\nRun Lua `on_replay` on cached responses before returning them.\n\n## Acceptance Criteria\n- Script can mutate cached response dynamically.\n- Replay behavior is deterministic given same cached input.\n","status":"open","priority":4,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:23:17Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:23:17Z","dependencies":[{"issue_id":"replayproxy-ivx.18.6","depends_on_id":"replayproxy-ivx.18","type":"parent-child","created_at":"2026-02-25T16:23:16Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.18.7","title":"Lua safety: sandbox limits (time/memory/IO)","description":"## Description\nPrevent scripts from hanging the proxy or accessing unsafe IO.\n\n## Acceptance Criteria\n- Script execution has a timeout or instruction limit.\n- File/network IO is restricted (as supported by chosen Lua runtime).\n","status":"open","priority":4,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:23:17Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:23:17Z","dependencies":[{"issue_id":"replayproxy-ivx.18.7","depends_on_id":"replayproxy-ivx.18","type":"parent-child","created_at":"2026-02-25T16:23:16Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.18.8","title":"Lua transform tests + example scripts","description":"## Description\nAdd unit/integration tests demonstrating transforms, and ship a couple of example scripts.\n\n## Acceptance Criteria\n- Tests cover at least on_request and on_response.\n- Repo includes example scripts referenced by docs.\n","status":"open","priority":4,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:23:17Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:23:17Z","dependencies":[{"issue_id":"replayproxy-ivx.18.8","depends_on_id":"replayproxy-ivx.18","type":"parent-child","created_at":"2026-02-25T16:23:17Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.19","title":"Community presets: ship curated route configs","description":"## Success Criteria\n- `presets/` directory exists with at least one working example.\n- CLI can import/copy a preset into a user's config.\n","status":"open","priority":4,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:56Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:16:56Z","dependencies":[{"issue_id":"replayproxy-ivx.19","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:55Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.19.1","title":"Add presets/ directory + initial configs (openai/anthropic/etc)","description":"## Description\nCreate a `presets/` directory with community-contributed config files.\n\n## Acceptance Criteria\n- `presets/` exists in repo.\n- At least one preset config is included and validated by tests or a sample run.\n","status":"open","priority":4,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:23:30Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:23:30Z","dependencies":[{"issue_id":"replayproxy-ivx.19.1","depends_on_id":"replayproxy-ivx.19","type":"parent-child","created_at":"2026-02-25T16:23:30Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.19.2","title":"Preset discovery + metadata","description":"## Description\nProvide a way to list available presets and their intended use.\n\n## Acceptance Criteria\n- Presets include minimal metadata (name/description) either in file or sidecar.\n- CLI can list presets (or docs explain available presets).\n","status":"open","priority":4,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:23:31Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:23:31Z","dependencies":[{"issue_id":"replayproxy-ivx.19.2","depends_on_id":"replayproxy-ivx.19","type":"parent-child","created_at":"2026-02-25T16:23:30Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.19.3","title":"Define preset import behavior (copy vs merge)","description":"## Context\n`SPEC.md` suggests `replayproxy preset import openai`.\n\n## Decision\nDefine whether import:\n- copies a full config,\n- merges routes into an existing config,\n- or creates a separate preset include file.\n\n## Rationale\n- Users may already have a config; import should avoid destructive overwrites.\n- Simple copy is easiest, but merge is more ergonomic.\n\n## Alternatives Considered\n- Copy preset to `~/.replayproxy/presets/\u003cname\u003e.toml` and instruct user to reference it.\n- Merge routes into existing `config.toml` (best-effort, might be lossy).\n- Create `config.d/` include directory and load all `*.toml`.\n\n## Acceptance Criteria\n- Documented semantics.\n- CLI behavior matches semantics.\n","status":"open","priority":4,"issue_type":"decision","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:23:31Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:24:32Z","dependencies":[{"issue_id":"replayproxy-ivx.19.3","depends_on_id":"replayproxy-ivx.19","type":"parent-child","created_at":"2026-02-25T16:23:30Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.2","title":"Config: TOML schema + validation","description":"## Success Criteria\n- `replayproxy.toml` (or `~/.replayproxy/config.toml`) is parsed into a typed config.\n- Config errors are actionable (file path + field context).\n- Routes support match/redact/streaming/websocket/grpc/rate_limit/transform sections (even if some are stubbed initially).\n","status":"closed","priority":0,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:51Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T19:53:37Z","closed_at":"2026-02-25T19:53:37Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.2","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:50Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.2.1","title":"Config structs + TOML parsing","description":"## Description\nDefine typed configuration structs for the top-level sections in `SPEC.md` (proxy, proxy.tls, storage, logging, metrics, defaults, routes) and parse from TOML.\n\n## Acceptance Criteria\n- A config module loads TOML into strongly-typed structs.\n- Unknown/invalid fields produce clear errors.\n- Config can be loaded without starting the proxy (unit-tested).\n","status":"closed","priority":0,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:18:32Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:57:47Z","closed_at":"2026-02-25T15:57:47Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.2.1","depends_on_id":"replayproxy-ivx.2","type":"parent-child","created_at":"2026-02-25T16:18:32Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.2.2","title":"Config discovery + --config override","description":"## Description\nImplement config file resolution:\n- default search: `./replayproxy.toml` then `~/.replayproxy/config.toml`\n- override via CLI `--config`\n\n## Acceptance Criteria\n- `--config` overrides default search.\n- `~` expansion works.\n- Error messages include the attempted paths.\n","status":"closed","priority":0,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:18:33Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T16:58:10Z","closed_at":"2026-02-25T16:58:10Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.2.2","depends_on_id":"replayproxy-ivx.2","type":"parent-child","created_at":"2026-02-25T16:18:32Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.2.3","title":"Route config parsing (mode/cache_miss/upstream + nested sections)","description":"## Description\nParse `[[routes]]` entries including:\n- identifiers (name)\n- matchers (path_prefix/path_regex/etc)\n- proxy behavior (mode, cache_miss, upstream)\n- nested sections: match/redact/streaming/websocket/grpc/rate_limit/transform\n\n## Acceptance Criteria\n- Config supports the example in `SPEC.md`.\n- Missing required fields fail fast with actionable errors.\n","status":"closed","priority":0,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:18:33Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:57:55Z","closed_at":"2026-02-25T15:57:55Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.2.3","depends_on_id":"replayproxy-ivx.2","type":"parent-child","created_at":"2026-02-25T16:18:32Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.2.4","title":"Config validation + normalization","description":"## Description\nValidate cross-field constraints and normalize values (URLs, ports, file paths, mutually exclusive fields).\n\n## Acceptance Criteria\n- Invalid configs are rejected before starting servers.\n- Validation errors point to the offending route/field.\n","status":"closed","priority":1,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:18:33Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T18:22:23Z","closed_at":"2026-02-25T18:22:23Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.2.4","depends_on_id":"replayproxy-ivx.2","type":"parent-child","created_at":"2026-02-25T16:18:33Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.20","title":"Docs: setup, CA install, examples","description":"## Success Criteria\n- README covers install, running in reverse/forward modes, and session workflow.\n- Docs include CA generation/installation and common troubleshooting.\n- Repo includes at least one example config.\n","status":"open","priority":2,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:56Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:16:56Z","dependencies":[{"issue_id":"replayproxy-ivx.20","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:55Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.20.1","title":"README: reverse proxy quickstart + workflow","description":"## Description\nWrite a README that explains what replayproxy is and how to use it in reverse proxy mode.\n\n## Acceptance Criteria\n- README includes install/build steps.\n- README includes a minimal config example and record/replay usage.\n","status":"open","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:23:43Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:23:43Z","dependencies":[{"issue_id":"replayproxy-ivx.20.1","depends_on_id":"replayproxy-ivx.20","type":"parent-child","created_at":"2026-02-25T16:23:42Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.20.2","title":"Docs: forward proxy + CA generation/installation","description":"## Description\nDocument forward proxy mode and how to trust/install the MITM CA.\n\n## Acceptance Criteria\n- macOS and Linux installation steps are documented.\n- Docs include common failure modes and how to fix them.\n","status":"open","priority":3,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:23:43Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:23:43Z","dependencies":[{"issue_id":"replayproxy-ivx.20.2","depends_on_id":"replayproxy-ivx.20","type":"parent-child","created_at":"2026-02-25T16:23:42Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.20.3","title":"Provide example configs (replayproxy.toml samples)","description":"## Description\nAdd example configuration files to the repo for common use cases.\n\n## Acceptance Criteria\n- At least one working sample config is included.\n- Samples demonstrate route matching + redaction.\n","status":"open","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:23:43Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:23:43Z","dependencies":[{"issue_id":"replayproxy-ivx.20.3","depends_on_id":"replayproxy-ivx.20","type":"parent-child","created_at":"2026-02-25T16:23:43Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.20.4","title":"Troubleshooting guide","description":"## Description\nAdd troubleshooting documentation for common issues (cache misses, TLS problems, config reload, etc).\n\n## Acceptance Criteria\n- Includes guidance for 502 \"Not Recorded\" errors.\n- Includes guidance for TLS/CA trust errors.\n","status":"open","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:23:43Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:23:43Z","dependencies":[{"issue_id":"replayproxy-ivx.20.4","depends_on_id":"replayproxy-ivx.20","type":"parent-child","created_at":"2026-02-25T16:23:43Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.20.5","title":"README final polish: excellent onboarding + architecture + operations","description":"## Description\nDo a final README pass at the very end of the project so the documentation reflects the finished behavior, not interim implementation details.\n\n## Scope\n- Rewrite README as a polished onboarding doc for first-time users.\n- Include clear value proposition, architecture overview, and reverse/forward proxy usage.\n- Include session lifecycle, redaction behavior, replay miss behavior, and admin/CLI workflows.\n- Add troubleshooting and \"known limitations\" section for real-world usage.\n\n## Notes\nThis bead is intentionally end-of-project and should run after major feature epics and docs sub-beads are complete.\n","acceptance_criteria":"- README reflects final implemented behavior and command surface.\n- Includes concrete quickstart for record -\u003e replay with expected outputs.\n- Includes architecture diagram/section and operational guidance (sessions, redaction, metrics, admin).\n- Includes troubleshooting + limitations section suitable for external users.","status":"open","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T20:58:57Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T20:58:57Z","dependencies":[{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.10","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.11","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.12","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.13","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.14","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.15","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.16","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.17","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.18","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.19","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.20","type":"parent-child","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.20.1","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.20.2","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.20.3","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.20.4","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.3","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.6","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.7","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.8","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.20.5","depends_on_id":"replayproxy-ivx.9","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.21","title":"Config discovery integration tests for fallback and override file loading","description":"Add integration-style config loading tests that create temp config files and assert actual read precedence: --config override path wins, otherwise ./replayproxy.toml is preferred over ~/.replayproxy/config.toml when both may exist.","status":"closed","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T19:54:09Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T21:55:20Z","closed_at":"2026-02-25T21:55:20Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.21","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T20:54:09Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.22","title":"Final live API validation suite (opt-in end-to-end tests)","description":"## Description\nAdd final end-to-end validation that runs replayproxy against real external APIs (opt-in) to verify behavior under real network conditions.\n\n## Scope\n- Define a stable live test matrix (HTTP + HTTPS, record/replay/passthrough-cache).\n- Add opt-in live tests gated by environment variables/secrets so CI remains deterministic by default.\n- Validate redaction in stored recordings when real payloads are captured.\n- Capture reproducible test fixtures and guidance for running locally before release.\n\n## Notes\nThese tests are release-hardening checks and should happen late, after core protocol/features are in place.\n","acceptance_criteria":"- Live test suite can be run locally with documented env vars/secrets.\n- Covers reverse + forward proxy paths and verifies record/replay correctness.\n- Confirms redaction behavior on captured real payloads.\n- Results are documented in release checklist with pass/fail criteria.","status":"open","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T20:58:58Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T20:58:58Z","dependencies":[{"issue_id":"replayproxy-ivx.22","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.22","depends_on_id":"replayproxy-ivx.10","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.22","depends_on_id":"replayproxy-ivx.11","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.22","depends_on_id":"replayproxy-ivx.12","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.22","depends_on_id":"replayproxy-ivx.13","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.22","depends_on_id":"replayproxy-ivx.14","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.22","depends_on_id":"replayproxy-ivx.15","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.22","depends_on_id":"replayproxy-ivx.16","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.22","depends_on_id":"replayproxy-ivx.17","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.22","depends_on_id":"replayproxy-ivx.18","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.22","depends_on_id":"replayproxy-ivx.21","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.22","depends_on_id":"replayproxy-ivx.3","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.22","depends_on_id":"replayproxy-ivx.6","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.22","depends_on_id":"replayproxy-ivx.7","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.22","depends_on_id":"replayproxy-ivx.8","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.22","depends_on_id":"replayproxy-ivx.9","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.23","title":"Performance testing + profiling + optimization pass","description":"## Description\nRun performance testing and profiling to ensure replayproxy is fast under realistic traffic and identify hotspots before release.\n\n## Scope\n- Define benchmark scenarios for record/replay/passthrough-cache paths.\n- Measure throughput/latency/memory under concurrency.\n- Profile CPU and memory (e.g., pprof/flamegraph/perf-compatible tooling) and document bottlenecks.\n- Implement targeted optimizations and re-benchmark to quantify gains.\n- Establish baseline performance budgets and regression checks.\n\n## Notes\nThis bead should run after live API functional validation so profiling reflects near-final behavior.\n","acceptance_criteria":"- Benchmarks published for representative traffic patterns with baseline numbers.\n- Profiling artifacts identify top CPU/memory hotspots.\n- At least one optimization pass is implemented and measured.\n- Performance guardrails/regression checks are documented for future changes.","status":"open","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T20:58:58Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T20:58:58Z","dependencies":[{"issue_id":"replayproxy-ivx.23","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.23","depends_on_id":"replayproxy-ivx.22","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.23","depends_on_id":"replayproxy-ivx.8.4","type":"blocks","created_at":"2026-02-25T21:58:57Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.3","title":"Core: Reverse proxy + per-route modes","description":"## Success Criteria\n- Reverse proxy forwards requests to configured upstreams.\n- Per-route mode behavior matches `SPEC.md`: `record`, `replay`, `passthrough-cache`.\n- Replay cache-miss behavior supports `error` (502) and `forward`.\n","status":"open","priority":0,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:51Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:16:51Z","dependencies":[{"issue_id":"replayproxy-ivx.3","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:51Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.3","depends_on_id":"replayproxy-ivx.2","type":"blocks","created_at":"2026-02-25T16:17:58Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.3","depends_on_id":"replayproxy-ivx.4","type":"blocks","created_at":"2026-02-25T16:17:58Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.3","depends_on_id":"replayproxy-ivx.5","type":"blocks","created_at":"2026-02-25T16:17:58Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.3.1","title":"Reverse proxy: forward requests to upstream","description":"## Description\nImplement reverse proxy mode: accept client requests and forward them to a configured upstream URL per route.\n\n## Acceptance Criteria\n- For a configured route with `upstream`, requests are forwarded and responses returned unchanged.\n- Hop-by-hop headers are handled correctly.\n- Integration test proxies to a local upstream server.\n","status":"closed","priority":0,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:19:35Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:43:33Z","closed_at":"2026-02-25T15:43:33Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.3.1","depends_on_id":"replayproxy-ivx.3","type":"parent-child","created_at":"2026-02-25T16:19:35Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.3.2","title":"Mode=record: always forward + persist recording","description":"## Description\nImplement `record` mode behavior from `SPEC.md`: never serve from cache; always forward to upstream and store the request/response pair.\n\n## Acceptance Criteria\n- Record mode persists a recording for every request that matches a configured route.\n- Responses returned to client match upstream response.\n- Integration test verifies DB contains a new recording.\n","status":"closed","priority":0,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:19:36Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T16:12:47Z","closed_at":"2026-02-25T16:12:47Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.3.2","depends_on_id":"replayproxy-ivx.3","type":"parent-child","created_at":"2026-02-25T16:19:35Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.3.3","title":"Mode=replay: serve exclusively from cache (with cache_miss policy)","description":"## Description\nImplement `replay` mode behavior: serve cached responses when match key hits; on miss, either return 502 or forward depending on `cache_miss`.\n\n## Acceptance Criteria\n- Cache hit returns stored response (status/headers/body).\n- Cache miss returns `502 Gateway Not Recorded` when configured.\n- Cache miss forwards to upstream when configured.\n","status":"closed","priority":0,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:19:36Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T16:49:41Z","closed_at":"2026-02-25T16:49:41Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.3.3","depends_on_id":"replayproxy-ivx.3","type":"parent-child","created_at":"2026-02-25T16:19:36Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.3.4","title":"Mode=passthrough-cache: forward + cache + replay on subsequent matches","description":"## Description\nImplement `passthrough-cache` mode: forward to upstream, cache the response, and serve cached version on subsequent matching requests.\n\n## Acceptance Criteria\n- First request forwards and inserts recording.\n- Second equivalent request is served from cache.\n- Metrics/logs indicate cache hit vs miss (once observability exists).\n","status":"closed","priority":0,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:19:36Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T16:49:41Z","closed_at":"2026-02-25T16:49:41Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.3.4","depends_on_id":"replayproxy-ivx.3","type":"parent-child","created_at":"2026-02-25T16:19:36Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.3.5","title":"Replay miss response: 502 Gateway Not Recorded","description":"## Description\nImplement a deterministic, debuggable 502 response for replay cache misses.\n\n## Acceptance Criteria\n- Response status is 502 with a stable error body that includes the route/session/match key (redacting secrets).\n- Content-Type is set appropriately.\n","status":"closed","priority":1,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:19:37Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T18:35:07Z","closed_at":"2026-02-25T18:35:07Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.3.5","depends_on_id":"replayproxy-ivx.3","type":"parent-child","created_at":"2026-02-25T16:19:36Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.3.6","title":"End-to-end integration tests: record -\u003e replay","description":"## Description\nAdd integration tests that spin up a local upstream, run replayproxy in record mode, then replay mode, and validate deterministic responses.\n\n## Acceptance Criteria\n- Tests cover at least one JSON POST and one GET with query params.\n- Tests validate that replay does not hit upstream.\n","status":"closed","priority":0,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:19:37Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T16:49:41Z","closed_at":"2026-02-25T16:49:41Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.3.6","depends_on_id":"replayproxy-ivx.3","type":"parent-child","created_at":"2026-02-25T16:19:36Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.3.7","title":"Request/response body buffering limits + error handling","description":"## Description\nAdd sane limits for buffering request and response bodies (since matching and storage often require full bodies).\n\n## Acceptance Criteria\n- Configurable max body size (with a safe default).\n- Oversize bodies are handled predictably (error or bypass caching per route).\n","status":"closed","priority":1,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:19:37Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T19:45:05Z","closed_at":"2026-02-25T19:45:05Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.3.7","depends_on_id":"replayproxy-ivx.3","type":"parent-child","created_at":"2026-02-25T16:19:37Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.3.8","title":"Support bypass-cache oversize handling for chunked/unknown-length bodies","description":"## Context\n`body_oversize = \"bypass-cache\"` currently bypasses buffering when `Content-Length` already exceeds `proxy.max_body_bytes`, but unknown-length/chunked bodies still fall back to 413/502 after limit breach.\n\n## Follow-up\n- Stream request/response through while disabling match/record when oversize is detected mid-stream.\n- Preserve predictable behavior for replay/error modes and add integration coverage for chunked bodies.","status":"closed","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T19:45:02Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T22:04:06Z","closed_at":"2026-02-25T22:04:06Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.3.8","depends_on_id":"replayproxy-ivx.3","type":"parent-child","created_at":"2026-02-25T20:45:02Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.4","title":"Storage: SQLite recordings schema + CRUD","description":"## Success Criteria\n- SQLite schema supports storing requests/responses and match keys.\n- DB is opened in WAL mode and supports concurrent readers.\n- Basic APIs exist to insert a recording and fetch by match key.\n","status":"closed","priority":0,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:51Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T19:49:26Z","closed_at":"2026-02-25T19:49:26Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.4","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:51Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.4.1","title":"SQLite schema for recordings (requests/responses/match keys)","description":"## Description\nDesign the SQLite schema described in `SPEC.md` for storing recordings, including request/response metadata and match key hashes.\n\n## Acceptance Criteria\n- Schema covers: request method/url/headers/body (or hash), response status/headers/body, timestamps, match key.\n- Schema design is documented (tables + columns + indexes).\n","status":"closed","priority":0,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:18:48Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T16:13:01Z","closed_at":"2026-02-25T16:13:01Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.4.1","depends_on_id":"replayproxy-ivx.4","type":"parent-child","created_at":"2026-02-25T16:18:48Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.4.2","title":"SQLite init + WAL mode + schema migrations","description":"## Description\nImplement DB open/init per session, enable WAL mode, and apply schema initialization/migrations safely.\n\n## Acceptance Criteria\n- DB is created if missing and opened with WAL enabled.\n- Migrations (even if minimal) run idempotently.\n- Unit/integration test covers creating a fresh DB.\n","status":"closed","priority":0,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:18:49Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T16:13:02Z","closed_at":"2026-02-25T16:13:02Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.4.2","depends_on_id":"replayproxy-ivx.4","type":"parent-child","created_at":"2026-02-25T16:18:48Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.4.3","title":"Storage API: insert recording","description":"## Description\nImplement storage writes for a completed request/response pair (and any auxiliary data needed for replay).\n\n## Acceptance Criteria\n- API persists a recording keyed by computed match key.\n- Request/response headers and bodies are stored losslessly (subject to redaction).\n- Integration test inserts and then fetches the same recording.\n","status":"closed","priority":0,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:18:49Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T17:04:36Z","closed_at":"2026-02-25T17:04:36Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.4.3","depends_on_id":"replayproxy-ivx.4","type":"parent-child","created_at":"2026-02-25T16:18:49Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.4.4","title":"Storage API: lookup recording by match key","description":"## Description\nImplement reading a cached response by match key to support replay/passthrough-cache.\n\n## Acceptance Criteria\n- API returns the stored response (status/headers/body) for a given key.\n- Cache miss is distinguishable from hard errors.\n","status":"closed","priority":0,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:18:49Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T16:50:31Z","closed_at":"2026-02-25T16:50:31Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.4.4","depends_on_id":"replayproxy-ivx.4","type":"parent-child","created_at":"2026-02-25T16:18:49Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.4.5","title":"Storage API: list/search/delete recordings","description":"## Description\nAdd APIs needed by CLI/admin: list recordings, search (URL/method/body), and delete by id.\n\n## Acceptance Criteria\n- Listing supports pagination (offset/limit) or an equivalent.\n- Search supports at least method + URL substring.\n- Delete removes a single recording deterministically.\n","status":"closed","priority":1,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:18:50Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T19:49:20Z","closed_at":"2026-02-25T19:49:20Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.4.5","depends_on_id":"replayproxy-ivx.4","type":"parent-child","created_at":"2026-02-25T16:18:49Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.5","title":"Matching: request normalization + cache key hashing","description":"## Success Criteria\n- Match key computation is deterministic and configurable per route.\n- Supports method/path/query/header/body matching options from `SPEC.md`.\n- Unit tests cover normalization edge cases.\n","status":"closed","priority":0,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:52Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T20:04:35Z","closed_at":"2026-02-25T20:04:35Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.5","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:51Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.5","depends_on_id":"replayproxy-ivx.2","type":"blocks","created_at":"2026-02-25T16:17:59Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.5.1","title":"Match config model + normalization rules","description":"## Description\nDefine how requests are normalized and which dimensions participate in matching, per `SPEC.md` (method/path/query/headers/body).\n\n## Acceptance Criteria\n- There is a single, documented normalization pipeline used for match keys.\n- Normalization is deterministic across runs.\n","status":"closed","priority":0,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:19:09Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T16:28:14Z","closed_at":"2026-02-25T16:28:14Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.5.1","depends_on_id":"replayproxy-ivx.5","type":"parent-child","created_at":"2026-02-25T16:19:09Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.5.2","title":"Implement path matching (exact/prefix/regex)","description":"## Description\nImplement route/path matching strategies for request matching.\n\n## Acceptance Criteria\n- Supports exact match, prefix match, and regex match.\n- Tests cover ambiguous cases and precedence.\n","status":"closed","priority":0,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:19:09Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T17:10:07Z","closed_at":"2026-02-25T17:10:07Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.5.2","depends_on_id":"replayproxy-ivx.5","type":"parent-child","created_at":"2026-02-25T16:19:09Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.5.3","title":"Implement query param matching (exact/subset/ignore)","description":"## Description\nImplement query parameter normalization and matching strategies.\n\n## Acceptance Criteria\n- Exact match, subset match, and ignore modes work as configured.\n- Tests cover ordering and repeated keys.\n","status":"closed","priority":0,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:19:10Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T17:18:14Z","closed_at":"2026-02-25T17:18:14Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.5.3","depends_on_id":"replayproxy-ivx.5","type":"parent-child","created_at":"2026-02-25T16:19:09Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.5.4","title":"Implement header matching (include list + ignore list)","description":"## Description\nAllow per-route matching on specific headers (and ignoring volatile headers like Date / request IDs).\n\n## Acceptance Criteria\n- Matching can be restricted to a configured allowlist of headers.\n- Header names are handled case-insensitively.\n- Tests cover normalization and missing headers.\n","status":"closed","priority":0,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:19:10Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T17:23:32Z","closed_at":"2026-02-25T17:23:32Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.5.4","depends_on_id":"replayproxy-ivx.5","type":"parent-child","created_at":"2026-02-25T16:19:09Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.5.5","title":"Implement JSON body matching via JSONPath (RFC 9535)","description":"## Description\nFor JSON bodies, extract selected fields using JSONPath expressions and include them in match key computation.\n\n## Acceptance Criteria\n- JSON bodies are parsed safely with clear errors.\n- Configured JSONPath expressions are evaluated and incorporated into the match key.\n- Tests cover nested structures and arrays.\n","status":"closed","priority":0,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:19:10Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T17:30:50Z","closed_at":"2026-02-25T17:30:50Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.5.5","depends_on_id":"replayproxy-ivx.5","type":"parent-child","created_at":"2026-02-25T16:19:10Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.5.6","title":"Implement raw body hashing (SHA-256) for non-JSON","description":"## Description\nFor non-JSON payloads (or when configured), compute a SHA-256 hash of the full body and use it for matching.\n\n## Acceptance Criteria\n- Hashing is performed on the exact bytes received.\n- Tests cover empty body and large body cases.\n","status":"closed","priority":0,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:19:11Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T17:40:18Z","closed_at":"2026-02-25T17:40:18Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.5.6","depends_on_id":"replayproxy-ivx.5","type":"parent-child","created_at":"2026-02-25T16:19:10Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.5.7","title":"Compute cache key hash + unit tests","description":"## Description\nCombine selected normalized dimensions into a deterministic cache key and hash it.\n\n## Acceptance Criteria\n- Cache key is stable for equivalent requests.\n- Any change to a selected dimension changes the key.\n- Unit tests cover key stability and collision resistance assumptions.\n","status":"closed","priority":0,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:19:11Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T16:31:41Z","closed_at":"2026-02-25T16:31:41Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.5.7","depends_on_id":"replayproxy-ivx.5","type":"parent-child","created_at":"2026-02-25T16:19:10Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.6","title":"Sessions (cassettes): create/list/switch/delete","description":"## Success Criteria\n- Recordings are organized into named sessions.\n- Active session can be selected via config and CLI flag.\n- Session delete removes DB/data safely.\n","status":"open","priority":1,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:52Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:16:52Z","dependencies":[{"issue_id":"replayproxy-ivx.6","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:51Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.6","depends_on_id":"replayproxy-ivx.4","type":"blocks","created_at":"2026-02-25T16:17:59Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.6.1","title":"Decision: active session precedence (config vs CLI vs admin)","description":"## Context\n`SPEC.md` allows the active session to be set via config, CLI flag, or admin API.\n\n## Decision\nDefine the precedence/order of these sources (and whether admin changes are persistent or ephemeral).\n\n## Rationale\n- We need deterministic behavior when multiple sources are present.\n- CI/test environments likely want CLI to win, while long-running dev proxies may prefer admin overrides.\n\n## Alternatives Considered\n- CLI \u003e Admin \u003e Config\n- Admin \u003e CLI \u003e Config\n- Persist admin-changed active session back into config\n- Make admin changes ephemeral (process-local) only\n\n## Acceptance Criteria\n- Documented precedence order.\n- Clear behavior when multiple sources are provided.\n","status":"closed","priority":1,"issue_type":"decision","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:19:52Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T20:28:55Z","closed_at":"2026-02-25T20:28:55Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.6.1","depends_on_id":"replayproxy-ivx.6","type":"parent-child","created_at":"2026-02-25T16:19:52Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.6.2","title":"Session storage layout (~/.replayproxy/sessions/\u003cname\u003e/recordings.db)","description":"## Description\nImplement the on-disk layout for sessions and where each session's SQLite DB lives.\n\n## Acceptance Criteria\n- Path resolution supports configurable base path.\n- A session name deterministically maps to a DB path.\n- Unsafe session names are rejected/sanitized.\n","status":"closed","priority":1,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:19:52Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T20:04:26Z","closed_at":"2026-02-25T20:04:26Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.6.2","depends_on_id":"replayproxy-ivx.6","type":"parent-child","created_at":"2026-02-25T16:19:52Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.6.3","title":"Session manager: create/list/switch/delete","description":"## Description\nImplement session CRUD and switching in the core library.\n\n## Acceptance Criteria\n- Create a new session by name.\n- List existing sessions.\n- Switch active session.\n- Delete session removes its DB/data safely.\n","status":"closed","priority":1,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:19:53Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T20:28:55Z","closed_at":"2026-02-25T20:28:55Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.6.3","depends_on_id":"replayproxy-ivx.6","type":"parent-child","created_at":"2026-02-25T16:19:52Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.6.4","title":"Wire active session into proxy request handling","description":"## Description\nEnsure the proxy uses the current active session for all storage lookups/writes.\n\n## Acceptance Criteria\n- Switching sessions changes which recordings are visible.\n- Integration test demonstrates isolation between sessions.\n","status":"closed","priority":1,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:19:53Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T20:28:55Z","closed_at":"2026-02-25T20:28:55Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.6.4","depends_on_id":"replayproxy-ivx.6","type":"parent-child","created_at":"2026-02-25T16:19:52Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.7","title":"Redaction: sanitize secrets before storage","description":"## Success Criteria\n- Per-route and default redaction rules apply to request/response headers and JSON fields.\n- Redaction happens before writing to SQLite.\n- Placeholder value is configurable.\n","status":"open","priority":1,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:52Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:16:52Z","dependencies":[{"issue_id":"replayproxy-ivx.7","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:52Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.7.1","title":"Decision: does matching run on redacted or original values?","description":"## Context\n`SPEC.md` says redaction happens before storing to the database, but matching may rely on sensitive values (e.g., Authorization) if configured.\n\n## Decision\nSpecify whether:\n- match-key computation uses original values and only storage is redacted, or\n- match-key computation uses redacted values (and what that implies).\n\n## Rationale\n- If matching uses redacted values, many distinct requests may collapse onto the same cache key.\n- If matching uses original values, the match key may implicitly encode sensitive data; we must ensure the *stored* data remains redacted and that logs/errors do not leak secrets.\n\n## Alternatives Considered\n- Always match on original inputs; redact only at persistence time.\n- Match on a stable hash of sensitive fields (so matching remains accurate without storing plaintext secrets).\n- Disallow matching on fields that are redacted.\n\n## Acceptance Criteria\n- Documented behavior.\n- Implementation plan for headers/body fields that are both matched and redacted.\n","status":"closed","priority":1,"issue_type":"decision","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:20:09Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T19:58:57Z","closed_at":"2026-02-25T19:58:57Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.7.1","depends_on_id":"replayproxy-ivx.7","type":"parent-child","created_at":"2026-02-25T16:20:08Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.7.2","title":"Implement redaction config (defaults + per-route)","description":"## Description\nImplement parsing and application of redaction rules from config:\n- default redaction\n- per-route overrides\n\n## Acceptance Criteria\n- Config supports redacting request/response headers.\n- Config supports redacting JSON body fields via JSONPath.\n","status":"closed","priority":1,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:20:09Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T20:15:11Z","closed_at":"2026-02-25T20:15:11Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.7.2","depends_on_id":"replayproxy-ivx.7","type":"parent-child","created_at":"2026-02-25T16:20:08Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.7.3","title":"Redact headers before storage","description":"## Description\nStrip or replace sensitive headers (e.g., Authorization, X-Api-Key, Cookie) before persisting recordings.\n\n## Acceptance Criteria\n- Configured headers are replaced with placeholder (default `[REDACTED]`).\n- Header matching remains deterministic (per decision above).\n- Unit tests verify redaction.\n","status":"closed","priority":1,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:20:09Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T20:38:49Z","closed_at":"2026-02-25T20:38:49Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.7.3","depends_on_id":"replayproxy-ivx.7","type":"parent-child","created_at":"2026-02-25T16:20:09Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.7.4","title":"Redact JSON body fields via JSONPath","description":"## Description\nRedact configured JSON body fields prior to persistence.\n\n## Acceptance Criteria\n- JSONPath-based field redaction works for nested objects and arrays.\n- Invalid JSONPath expressions fail fast with a clear config error.\n- Unit tests verify redaction output.\n","status":"closed","priority":1,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:20:10Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T20:48:42Z","closed_at":"2026-02-25T20:48:42Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.7.4","depends_on_id":"replayproxy-ivx.7","type":"parent-child","created_at":"2026-02-25T16:20:09Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.7.5","title":"Redaction placeholder configuration","description":"## Description\nSupport configuring the placeholder value used for redaction.\n\n## Acceptance Criteria\n- Placeholder is configurable globally (and optionally per route).\n- Stored recordings contain the placeholder, not the original secret.\n","status":"open","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:20:10Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:20:10Z","dependencies":[{"issue_id":"replayproxy-ivx.7.5","depends_on_id":"replayproxy-ivx.7","type":"parent-child","created_at":"2026-02-25T16:20:09Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.7.6","title":"Redaction safety: prevent sensitive match input leakage in logs/errors","description":"## Description\nEnsure request-matching and redaction flows never emit raw sensitive values (headers/body fields) to logs or error messages, including parse/match failures.\n\n## Scope\n- Structured logs around request matching\n- Error paths from JSONPath extraction/matching\n- Debug output in redaction pipeline\n","acceptance_criteria":"- No raw values from redacted/matched fields are logged on success or failure paths.\n- Tests assert sensitive values do not appear in captured logs for representative failures.\n- SPEC and code comments remain aligned with the matching-vs-redaction decision.","status":"closed","priority":1,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T19:58:49Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T20:55:37Z","closed_at":"2026-02-25T20:55:37Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.7.6","depends_on_id":"replayproxy-ivx.7","type":"parent-child","created_at":"2026-02-25T20:58:49Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.7.7","title":"Integration test: verify response JSON body redaction before storage","description":"Add reverse-proxy integration coverage that persists a JSON upstream response and verifies configured redact.body_json JSONPath rules are applied to response_body in storage.","acceptance_criteria":"- Integration test stores a recording with JSON response body and assert selected response fields are [REDACTED].\\n- Test covers nested object/array JSONPath expression in response body.\\n- Test confirms non-selected response fields remain unchanged.","status":"closed","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T20:48:34Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T22:14:49Z","closed_at":"2026-02-25T22:14:49Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.7.7","depends_on_id":"replayproxy-ivx.7","type":"parent-child","created_at":"2026-02-25T21:48:33Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.8","title":"Observability: structured logging + Prometheus metrics","description":"## Success Criteria\n- JSON logging via `tracing` with configurable level/format.\n- Prometheus `/metrics` endpoint exposes core counters/histograms from `SPEC.md`.\n- Request logs include mode + cache hit/miss + latency.\n","status":"open","priority":1,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:52Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:16:52Z","dependencies":[{"issue_id":"replayproxy-ivx.8","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:52Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.8","depends_on_id":"replayproxy-ivx.10","type":"blocks","created_at":"2026-02-25T16:18:00Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.8.1","title":"Logging: tracing subscriber (json/pretty) + level config","description":"## Description\nSet up `tracing` + `tracing-subscriber` with JSON output (and optional pretty format) as described in `SPEC.md`.\n\n## Acceptance Criteria\n- Log level is configurable via config/CLI.\n- JSON logs include timestamp, level, target, and message.\n","status":"closed","priority":1,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:20:52Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T17:54:12Z","closed_at":"2026-02-25T17:54:12Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.8.1","depends_on_id":"replayproxy-ivx.8","type":"parent-child","created_at":"2026-02-25T16:20:51Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.8.2","title":"Per-request logs: method/url/mode/cache hit/miss/latency/status","description":"## Description\nAdd request-scoped spans and log fields that make record/replay behavior debuggable.\n\n## Acceptance Criteria\n- Each proxied request logs: method, URL, route, mode, cache hit/miss, upstream latency, response status.\n- Sensitive headers are not logged (or are redacted).\n","status":"closed","priority":1,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:20:52Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T19:34:19Z","closed_at":"2026-02-25T19:34:19Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.8.2","depends_on_id":"replayproxy-ivx.8","type":"parent-child","created_at":"2026-02-25T16:20:52Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.8.3","title":"Prometheus exporter: expose /metrics on admin port","description":"## Description\nExpose Prometheus metrics on the admin server at `/metrics`.\n\n## Acceptance Criteria\n- `/metrics` returns Prometheus text format.\n- Endpoint is available when metrics are enabled in config.\n","status":"closed","priority":1,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:20:52Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T21:00:01Z","closed_at":"2026-02-25T21:00:01Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.8.3","depends_on_id":"replayproxy-ivx.8","type":"parent-child","created_at":"2026-02-25T16:20:52Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.8.4","title":"Core metrics: requests_total, cache hits/misses, durations, gauges","description":"## Description\nImplement the key metrics described in `SPEC.md`.\n\n## Acceptance Criteria\n- Counter: `replayproxy_requests_total{mode,method,status}`\n- Counters: cache hits/misses\n- Histograms: upstream duration and replay duration\n- Gauges: active connections and recordings per session (if feasible)\n","status":"closed","priority":1,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:20:53Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T21:14:11Z","closed_at":"2026-02-25T21:14:11Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.8.4","depends_on_id":"replayproxy-ivx.8","type":"parent-child","created_at":"2026-02-25T16:20:52Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.9","title":"CLI: serve + session/recording/ca subcommands","description":"## Success Criteria\n- `replayproxy serve` starts the proxy.\n- `replayproxy session ...` and `replayproxy recording ...` commands work end-to-end.\n- `replayproxy ca ...` commands cover generate/install/export.\n","status":"open","priority":1,"issue_type":"epic","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:16:53Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:16:53Z","dependencies":[{"issue_id":"replayproxy-ivx.9","depends_on_id":"replayproxy-ivx","type":"parent-child","created_at":"2026-02-25T16:16:52Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"},{"issue_id":"replayproxy-ivx.9","depends_on_id":"replayproxy-ivx.3","type":"blocks","created_at":"2026-02-25T16:17:59Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.9.1","title":"CLI: replayproxy serve","description":"## Description\nImplement `replayproxy serve` to start the proxy (and admin server) using the loaded config.\n\n## Acceptance Criteria\n- `replayproxy serve` starts listening on configured address.\n- Supports `--config` and an override for active session (if defined).\n- Logs startup configuration summary (redacting secrets).\n","status":"closed","priority":0,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:08Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T17:48:53Z","closed_at":"2026-02-25T17:48:53Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.9.1","depends_on_id":"replayproxy-ivx.9","type":"parent-child","created_at":"2026-02-25T16:21:08Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.9.2","title":"CLI: session list/create/delete/switch","description":"## Description\nImplement `replayproxy session ...` commands as described in `SPEC.md`.\n\n## Acceptance Criteria\n- `session list` shows sessions.\n- `session create \u003cname\u003e` creates.\n- `session delete \u003cname\u003e` deletes.\n- Switching active session is supported (explicit command or flag).\n","status":"closed","priority":1,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:08Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T21:24:43Z","closed_at":"2026-02-25T21:24:43Z","close_reason":"Implemented session list/create/delete/switch CLI commands with tests","dependencies":[{"issue_id":"replayproxy-ivx.9.2","depends_on_id":"replayproxy-ivx.9","type":"parent-child","created_at":"2026-02-25T16:21:08Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.9.3","title":"CLI: recording list/search/delete","description":"## Description\nImplement recording management commands.\n\n## Acceptance Criteria\n- `recording list` works (optionally with `--session`).\n- `recording search \u003cquery\u003e` searches by URL/method (minimum).\n- `recording delete \u003cid\u003e` deletes.\n","status":"closed","priority":1,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:09Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T21:31:50Z","closed_at":"2026-02-25T21:31:50Z","close_reason":"Implemented recording list/search/delete CLI commands with optional session override, method+URL search parsing, and tests.","dependencies":[{"issue_id":"replayproxy-ivx.9.3","depends_on_id":"replayproxy-ivx.9","type":"parent-child","created_at":"2026-02-25T16:21:08Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.9.4","title":"CLI: CA generate/install/export","description":"## Description\nImplement CA management commands.\n\n## Acceptance Criteria\n- `ca generate` creates a root CA keypair at `~/.replayproxy/ca/`.\n- `ca install` attempts best-effort install (platform-specific).\n- `ca export` exports cert for manual install.\n","status":"open","priority":3,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:09Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:21:09Z","dependencies":[{"issue_id":"replayproxy-ivx.9.4","depends_on_id":"replayproxy-ivx.9","type":"parent-child","created_at":"2026-02-25T16:21:08Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.9.5","title":"CLI: preset import","description":"## Description\nImplement `replayproxy preset import \u003cname\u003e` to copy a shipped preset config into a user's config directory.\n\n## Acceptance Criteria\n- Preset list is discoverable (at least via filesystem).\n- Import creates/updates config file in a predictable way.\n","status":"open","priority":4,"issue_type":"feature","owner":"christian@bagerbach.com","created_at":"2026-02-25T15:21:09Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T15:21:09Z","dependencies":[{"issue_id":"replayproxy-ivx.9.5","depends_on_id":"replayproxy-ivx.9","type":"parent-child","created_at":"2026-02-25T16:21:09Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-ivx.9.6","title":"CLI recording search: support body-content filtering","description":"replayproxy recording search currently parses URL substring and optional leading HTTP method token. Add body-content search support (request/response body) to align with SPEC.md recording search expectations while preserving method+URL behavior and pagination.","status":"closed","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T21:31:34Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T22:20:54Z","closed_at":"2026-02-25T22:20:54Z","close_reason":"Closed","dependencies":[{"issue_id":"replayproxy-ivx.9.6","depends_on_id":"replayproxy-ivx.9","type":"parent-child","created_at":"2026-02-25T22:31:34Z","created_by":"Christian Bager Bach Houmann","metadata":"{}"}]}
{"id":"replayproxy-rk4","title":"Subset lookup: bound candidate normalization explosion","description":"Subset lookup now avoids full match_key scans by querying indexed normalized query subsets. For very large request query sets, subset combination generation can grow exponentially; add a bounded strategy that preserves deterministic replay semantics and measure fallback behavior.","status":"closed","priority":2,"issue_type":"task","owner":"christian@bagerbach.com","created_at":"2026-02-25T18:04:50Z","created_by":"Christian Bager Bach Houmann","updated_at":"2026-02-25T21:50:13Z","closed_at":"2026-02-25T21:50:13Z","close_reason":"Closed"}
